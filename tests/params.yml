---
parameters:
  kapitan:
    dependencies:
      - type: https
        source: https://raw.githubusercontent.com/projectsyn/component-cert-manager/master/lib/cert-manager.libsonnet
        output_path: vendor/lib/cert-manager.libsonnet

  secret_management:
    vault_role: test
    vault_addr: test.syn.tools

  argocd:
    # Test overwriting images
    images:
      kapitan:
        registry: mymirror.io
        repository: projectsyn/kapitan
      vault_agent:
        registry: mymirror.io
        repository: vault
      kubectl:
        image: mymirror.io/kubectl
      kube_rbac_proxy:
        registry: mymirror.io
        tag: v1.1.1

    # Test unsetting resource requests & limits
    resources:
      application_controller: null
      redis: null
      repo_server: null
      repo_server_vault_agent: null
      server: null
    operator:
      migrate: true
